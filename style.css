/* --- ПЕРЕМЕННЫЕ И БАЗА --- */
:root {
 --bg: #000000; 
 --card: #121212; 
 --blue: #007AFF; 
 --text: #FFFFFF;
 --sub: #8e8e93; 
 --border: #222222; 
 --glass: rgba(18, 18, 18, 0.9);
 --green: #10b981;
}

* { 
 box-sizing: border-box; 
 -webkit-tap-highlight-color: transparent; 
 margin: 0; 
 padding: 0; 
}

body { 
 background: var(--bg); 
 color: var(--text); 
 font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
 height: 100vh; 
 overflow: hidden; 
 display: flex; 
 justify-content: center; 
}

::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }

/* --- ОСНОВНОЙ КОНТЕЙНЕР И ЭКРАНЫ --- */
.app-wrapper { 
 width: 100%; 
 max-width: 500px; 
 height: 100vh; 
 position: relative; 
 background: var(--bg); 
 display: flex; 
 flex-direction: column; 
 border-left: 1px solid var(--border); 
 border-right: 1px solid var(--border); 
}

.screen { display: none; height: 100%; flex-direction: column; }
.screen.active { display: flex; }

.view-viewport { flex: 1; position: relative; overflow: hidden; }
.page { display: none; height: 100%; padding: 0 20px 100px; overflow-y: auto; }
.page.active { display: flex; flex-direction: column; animation: pageFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1); }

@keyframes pageFadeIn { 
 from { opacity: 0; transform: translateY(10px); } 
 to { opacity: 1; transform: translateY(0); } 
}

/* --- ЛОГОТИП И АВТОРИЗАЦИЯ --- */
.auth-content { padding: 40px 25px; text-align: center; overflow-y: auto; flex: 1; }
.logo-glow i { 
 font-size: 60px; 
 background: linear-gradient(135deg, #007AFF, #00FFCC); 
 -webkit-background-clip: text; 
 -webkit-text-fill-color: transparent; 
 filter: drop-shadow(0 0 15px rgba(0, 122, 255, 0.6)); 
 margin-bottom: 20px; 
}

h1 { font-size: 28px; font-weight: 900; margin-bottom: 10px; }
h1 span { color: var(--blue); }
.brand-zone p { color: var(--sub); margin-bottom: 30px; }

/* --- СТРОКА СОЗДАНИЯ АККАУНТА --- */
.create-acc-bar { 
 display: flex; align-items: center; gap: 10px; 
 background: rgba(255, 255, 255, 0.03); 
 padding: 6px 6px 6px 18px; border-radius: 30px; 
 border: 1px solid var(--border); margin-bottom: 25px; 
 transition: all 0.3s ease; 
}
.create-acc-bar:focus-within { 
 border-color: var(--blue); 
 box-shadow: 0 0 20px rgba(0, 122, 255, 0.15); 
 background: rgba(0, 122, 255, 0.05); 
}
.create-acc-bar input { flex: 1; background: transparent; border: none; color: #fff; font-size: 16px; outline: none; min-width: 0; }
.create-acc-bar input::placeholder { color: rgba(255, 255, 255, 0.3); }

/* КНОПКА «+» В СОЗДАНИИ ПРОФИЛЯ */
.create-acc-bar .add-btn { 
 width: 44px; height: 44px; background: var(--blue); border: none; border-radius: 50%; 
 display: flex; align-items: center; justify-content: center; cursor: pointer; flex-shrink: 0; 
 box-shadow: 0 4px 15px rgba(0, 122, 255, 0.4); transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
}
.create-acc-bar .add-btn i { color: #fff; font-size: 18px; transition: 0.3s; }
.create-acc-bar .add-btn:hover { transform: scale(1.08) rotate(90deg); box-shadow: 0 6px 20px rgba(0, 122, 255, 0.6); background: #0088ff; }
.create-acc-bar .add-btn:active { transform: scale(0.95) rotate(90deg); }

/* --- МЕНЕДЖЕР ПРОФИЛЕЙ И СОЦ. ССЫЛКИ --- */
.profiles-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 30px 0; }
.p-card { background: var(--card); padding: 18px; border-radius: 20px; border: 1px solid var(--border); cursor: pointer; text-align: left; transition: 0.2s; }
.p-card:hover { border-color: var(--blue); transform: translateY(-2px); }

.auth-socials { display: flex; justify-content: center; gap: 15px; margin-top: 10px; }
.mini-card { text-decoration: none; color: var(--sub); font-size: 13px; background: var(--card); padding: 10px 15px; border-radius: 12px; border: 1px solid var(--border); display: flex; align-items: center; gap: 8px; }

/* --- АВАТАРКА (3D МОНЕТА) --- */
.avatar-box, .av { 
 width: 42px; height: 42px; 
 background: linear-gradient(135deg, #007AFF 0%, #00C6FF 100%); border-radius: 50%; 
 display: flex; align-items: center; justify-content: center; color: #fff; 
 font-weight: 800; font-size: 16px; text-transform: uppercase; text-shadow: 0 2px 4px rgba(0,0,0,0.2); 
 border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 4px 15px rgba(0,122,255,0.3); flex-shrink: 0; 
}
.p-card .av { width: 48px; height: 48px; font-size: 18px; margin-bottom: 12px; }

/* --- ШАПКА ХАБА --- */
.app-header { padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; background: var(--bg); z-index: 10; }
.user-meta { display: flex; align-items: center; gap: 12px; cursor: pointer; }
.user-txt b { display: block; font-size: 16px; }

/* --- ЧИП СМЕНЫ ПРОФИЛЯ --- */
.profile-switch-chip { 
 display: flex; align-items: center; gap: 6px; background: rgba(0,122,255,0.1); 
 border: 1px solid rgba(0,122,255,0.3); padding: 4px 10px; border-radius: 20px; margin-top: 4px; 
 transition: 0.3s; cursor: pointer; width: fit-content; box-shadow: 0 0 10px rgba(0,122,255,0.1); 
 animation: chipGlow 3s infinite; 
}
.profile-switch-chip i { font-size: 10px; color: var(--blue); transition: transform 0.4s ease; }
.profile-switch-chip span { font-size: 10px !important; font-weight: 800; color: var(--blue); text-transform: uppercase; letter-spacing: 0.5px; }

.user-meta:hover .profile-switch-chip { background: var(--blue); border-color: var(--blue); box-shadow: 0 0 15px rgba(0,122,255,0.5); transform: translateY(-1px); }
.user-meta:hover .profile-switch-chip span, .user-meta:hover .profile-switch-chip i { color: #fff; }
.user-meta:hover .profile-switch-chip i { transform: rotate(180deg); }

@keyframes chipGlow { 
 0%, 100% { border-color: rgba(0,122,255,0.3); box-shadow: 0 0 5px rgba(0,122,255,0.1); } 
 50% { border-color: rgba(0,122,255,0.6); box-shadow: 0 0 12px rgba(0,122,255,0.3); } 
}

/* --- ИКОНКА «+» В ШАПКЕ --- */
.btn-circle-plus { 
 width: 44px; height: 44px; background: #121212; border: 1.5px solid var(--border); border-radius: 50%; 
 display: flex; align-items: center; justify-content: center; cursor: pointer; 
 transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); flex-shrink: 0; 
 box-shadow: 0 0 0 0 rgba(0, 122, 255, 0.4); animation: pulse-blue 2s infinite; 
}
.btn-circle-plus i { font-size: 18px; color: var(--blue); filter: drop-shadow(0 0 5px var(--blue)); transition: 0.3s; }
.btn-circle-plus:hover { transform: scale(1.1) rotate(90deg); background: var(--blue); border-color: var(--blue); animation: none; }
.btn-circle-plus:hover i { color: #fff; filter: drop-shadow(0 0 8px #fff); }

@keyframes pulse-blue { 70% { box-shadow: 0 0 0 10px rgba(0,122,255,0); } 100% { box-shadow: 0 0 0 0 rgba(0,122,255,0); } }

/* --- ИКОНКА «<» (НАЗАД) --- */
.back-link { 
 width: 44px; height: 44px; background: #121212; border: 1.5px solid var(--border); border-radius: 14px; 
 display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.3s; 
 flex-shrink: 0; position: relative; overflow: hidden; margin-right: 5px; 
}
.back-link i { font-size: 18px; color: var(--blue); filter: drop-shadow(0 0 5px var(--blue)); transition: 0.3s; }
.back-link:hover { background: rgba(0,122,255,0.1); border-color: var(--blue); box-shadow: 0 0 15px rgba(0,122,255,0.2); }
.back-link:hover i { transform: translateX(-4px); color: #fff; filter: drop-shadow(0 0 8px #fff); }
.back-link:active { transform: scale(0.9); background: var(--blue); }
.back-link:active i { color: #fff; transform: translateX(-6px); }

/* --- ГЛАВНАЯ: КАРТОЧКИ И СПИСОК --- */
.hero-cards { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 25px; padding-top: 10px; }
.social-hero { text-decoration: none; color: #fff; background: var(--card); padding: 18px; border-radius: 24px; display: flex; align-items: center; gap: 12px; border: 1px solid var(--border); transition: 0.2s; }
.social-hero:hover { border-color: var(--blue); }
.social-hero.tg i { color: #24A1DE; font-size: 24px; }
.social-hero.gh i { color: #fff; font-size: 24px; }

.section-divider { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.live-badge { font-size: 10px; font-weight: 900; color: var(--green); display: flex; align-items: center; gap: 6px; }
.live-badge span { width: 6px; height: 6px; background: var(--green); border-radius: 50%; animation: pulse-green 1.5s infinite; }
@keyframes pulse-green { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }

.rooms-feed { display: grid; gap: 12px; }
.room-item { background: var(--card); padding: 22px; border-radius: 24px; border: 1px solid var(--border); cursor: pointer; transition: 0.2s; }
.room-item:hover { border-color: var(--blue); }

/* --- ЧАТ --- */
.chat-placeholder { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 30px; gap: 20px; }
.empty-icon { font-size: 60px; color: #1a1a1c; }

.chat-ui { position: absolute; inset: 0; background: var(--bg); z-index: 100; display: flex; flex-direction: column; }
.chat-header { padding: 15px; border-bottom: 1px solid var(--border); display: flex; align-items: center; }
.room-info b { font-size: 16px; display: block; }
.secure-tag { font-size: 11px; color: var(--green); }

.refresh-btn { margin-left: auto; width: 44px; height: 44px; background: #121212; border: 1.5px solid var(--border); border-radius: 14px; color: var(--blue); cursor: pointer; flex-shrink: 0; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
.refresh-btn:hover { border-color: var(--blue); background: rgba(0,122,255,0.1); }
.spinning { animation: spin 0.6s linear; }
@keyframes spin { from {transform: rotate(0deg);} to {transform: rotate(360deg);} }

.msg-box { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 10px; scroll-behavior: smooth; }
.bubble { padding: 12px 16px; border-radius: 20px; max-width: 85%; font-size: 15px; line-height: 1.4; word-wrap: break-word; }
.bubble.me { align-self: flex-end; background: var(--blue); border-bottom-right-radius: 4px; }
.bubble.ot { align-self: flex-start; background: var(--card); border-bottom-left-radius: 4px; border: 1px solid var(--border); }

.chat-controls { padding: 15px 15px 40px; background: var(--bg); border-top: 1px solid var(--border); }
.input-bar { background: #1a1a1c; display: flex; padding: 6px; border-radius: 28px; border: 1px solid var(--border); transition: 0.3s; }
.input-bar:focus-within { border-color: var(--blue); }
.input-bar input { flex: 1; background: transparent; border: none; color: #fff; padding: 10px 16px; outline: none; min-width: 0; font-size: 16px; }
.input-bar button { background: none; border: none; color: var(--blue); padding: 0 16px; font-size: 22px; cursor: pointer; flex-shrink: 0; transition: 0.2s; }
.input-bar button:hover { transform: scale(1.1); }

/* --- СТРАНИЦА ПРИВАТНОСТИ --- */
.privacy-container { padding-top: 10px; }
.p-card-full { background: var(--card); border-radius: 28px; padding: 30px; border: 1px solid var(--border); text-align: center; }
.main-p-icon { font-size: 50px; color: var(--blue); margin-bottom: 20px; text-shadow: 0 0 20px rgba(0,122,255,0.3); }
.p-row { text-align: left; margin-top: 20px; }
.p-row b { color: var(--blue); font-size: 13px; display: block; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px; }
.p-row p { font-size: 13px; color: var(--sub); line-height: 1.6; }
.p-hr { border: none; border-top: 1px solid var(--border); margin: 30px 0; }
.p-links { display: flex; gap: 15px; justify-content: center; }
.p-links a { color: var(--blue); font-size: 12px; text-decoration: none; font-weight: 700; transition: 0.2s; }
.p-links a:hover { color: #fff; }

/* --- НИЖНЯЯ НАВИГАЦИЯ --- */
.bottom-nav { position: absolute; bottom: 0; width: 100%; height: 85px; background: var(--glass); backdrop-filter: blur(25px); display: flex; border-top: 1px solid var(--border); z-index: 10; padding-bottom: env(safe-area-inset-bottom); }
.nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #555; gap: 5px; cursor: pointer; transition: 0.2s; }
.nav-item.active { color: var(--blue); }
.nav-item i { font-size: 22px; }
.nav-item span { font-size: 10px; font-weight: 800; }

/* --- ГЛОБАЛЬНЫЕ КНОПКИ --- */
.btn-blue { background: var(--blue); color: #fff; border: none; padding: 16px 24px; border-radius: 16px; font-weight: 800; cursor: pointer; flex-shrink: 0; white-space: nowrap; display: flex; align-items: center; justify-content: center; min-height: 54px; transition: 0.2s; }
.btn-blue:active { transform: scale(0.96); }
.btn-cancel { background: #1a1a1a; border: 1px solid var(--border); color: var(--sub); padding: 16px; border-radius: 16px; font-weight: 600; cursor: pointer; flex-shrink: 0; min-height: 54px; transition: 0.2s; }
.btn-cancel:active { transform: scale(0.96); }

/* --- МОДАЛЬНЫЕ ОКНА --- */
.modal { position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(15px); display: none; align-items: center; justify-content: center; z-index: 200; padding: 25px; }
.modal.active { display: flex; }
.modal-card { background: var(--card); border-radius: 32px; padding: 30px; width: 100%; border: 1px solid #2a2a2a; }
.modal-head { font-size: 22px; font-weight: 800; text-align: center; margin-bottom: 20px; }
.modal-card input { width: 100%; padding: 16px; border-radius: 16px; background: #000; border: 1px solid var(--border); color: #fff; margin: 10px 0; outline: none; }
.modal-card input:focus { border-color: var(--blue); }

/* ВЫБОР ТИПА КОМНАТЫ */
.type-selector { display: flex; gap: 10px; margin: 15px 0; }
.tab-opt { flex: 1; cursor: pointer; }
.tab-opt input { display: none; }
.tab-opt span { display: block; padding: 14px; text-align: center; background: #000; border: 1px solid var(--border); border-radius: 14px; font-size: 13px; font-weight: 600; color: var(--sub); transition: 0.2s; }
.tab-opt input:checked + span { background: var(--blue); color: #fff; border-color: var(--blue); }

/* КНОПКИ В МОДАЛКЕ */
.modal-btns { display: flex; gap: 12px; margin-top: 25px; width: 100%; }
.modal-btns .btn-cancel { flex: 1; }
.modal-btns .btn-blue { flex: 2; }
