<!DOCTYPE html>
<html lang="ru">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
 <title>ScrapGram</title>
 <!-- Зависимости -->
 <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <link rel="stylesheet" href="style.css">
 <link rel="shortcut icon" href="ЛогоScraoo.jpg" type="image/x-icon">
 <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gun/nts.js"></script>

</head>
<body>

 <div class="app-wrapper">
 
 <!-- ЭКРАН 1: АВТОРИЗАЦИЯ -->
 <div id="scr-auth" class="screen active">
  <div class="auth-content">
  <div class="brand-zone">
   <div class="logo-glow"><i class="fa-solid fa-atom"></i></div>
   <h1>Scrap<span>Gram</span></h1>
   <p>Выберите профиль для входа</p>
  </div>

  <div id="profiles-grid" class="profiles-grid"></div>

  <div class="create-acc-bar">
   <input type="text" id="nick-input" placeholder="Имя нового профиля" autocomplete="off">
   <button class="add-btn" onclick="addProfile()"><i class="fa-solid fa-plus"></i></button>
  </div>

  <div class="auth-socials">
   <a href="https://github.com/sendox2012-debug/scrap-gram" target="_blank" class="mini-card"><i class="fa-brands fa-github"></i> GitHub</a>
   <a href="https://t.me/Scrap_Gram" target="_blank" class="mini-card"><i class="fa-brands fa-telegram"></i> Telegram</a>
  </div>
  </div>
 </div>

 <!-- ЭКРАН 2: ПРИЛОЖЕНИЕ -->
 <div id="scr-app" class="screen">
  <header class="app-header">
  <div class="user-meta" onclick="toProfiles()">
   <div class="avatar-box" id="hdr-av">?</div>
   <div class="user-txt">
   <b id="hdr-nick">User</b>
   <div class="profile-switch-chip">
    <i class="fa-solid fa-arrows-rotate"></i>
    <span>Сменить профиль</span>
   </div>
   </div>
  </div>
  <button class="btn-circle-plus" onclick="openModal('mod-create')"><i class="fa-solid fa-plus"></i></button>
  </header>

  <div class="view-viewport">
  
  <!-- ГЛАВНАЯ (ХАБ) -->
  <section class="page active" id="view-home">
   <div class="hero-cards">
   <a href="https://github.com/sendox2012-debug/scrap-gram" target="_blank" class="social-hero gh">
    <i class="fa-brands fa-github"></i>
    <div class="sh-txt"><b>GitHub</b></div>
   </a>
   <a href="https://t.me/Scrap_Gram" target="_blank" class="social-hero tg">
    <i class="fa-brands fa-telegram"></i>
    <div class="sh-txt"><b>Telegram</b></div>
   </a>
   </div>

   <div class="section-divider">
   <h3>Публичные пространства</h3>
   <div class="live-badge"><span></span> LIVE</div>
   </div>

   <div id="public-feed" class="rooms-feed"></div>
  </section>

  <!-- ЧАТ -->
  <section class="page" id="view-chat">
   <div id="chat-closed" class="chat-placeholder">
   <div class="empty-icon"><i class="fa-solid fa-comments"></i></div>
   <p>Канал не выбран</p>
   <button class="btn-blue" onclick="openModal('mod-join')">Войти по ID</button>
   </div>

   <div id="chat-active" class="chat-ui" style="display: none;">
   <div class="chat-header">
    <button class="back-link" onclick="exitChat()"><i class="fa-solid fa-chevron-left"></i></button>
    <div class="room-info">
    <b id="active-room-name">#room</b>
    <span class="secure-tag"><i class="fa-solid fa-shield-halved"></i> E2EE Active</span>
    </div>
    <button class="refresh-btn" onclick="refreshChat(this)"><i class="fa-solid fa-rotate"></i></button>
   </div>
   <div id="msg-box" class="msg-box"></div>
   <div class="chat-controls">
    <div class="input-bar">
    <input type="text" id="msg-inp" placeholder="Написать сообщение..." autocomplete="off">
    <button onclick="sendMsg()"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
   </div>
   </div>
  </section>

  <!-- ЗАЩИТА -->
  <section class="page" id="view-safe">
   <div class="privacy-container">
   <div class="p-card-full">
    <i class="fa-solid fa-user-shield main-p-icon"></i>
    <h3>Конфиденциальность</h3>
    <div class="p-row">
    <b>P2P Сеть</b>
    <p>Данные передаются напрямую между устройствами. Мы не используем центральные сервера.</p>
    </div>
    <div class="p-row">
    <b>AES-256</b>
    <p>Сообщения шифруются локально на вашем устройстве перед отправкой в сеть.</p>
    </div>
    <hr class="p-hr">
    <div class="p-links">
    <a href="https://gun.eco" target="_blank">Gun Protocol</a>
    <a href="https://en.wikipedia.org/wiki/End-to-end_encryption" target="_blank">E2EE Wiki</a>
    </div>
   </div>
   </div>
  </section>
  </div>

  <!-- НАВИГАЦИЯ -->
  <nav class="bottom-nav">
  <div class="nav-item active" onclick="switchView('home', this)"><i class="fa-solid fa-compass"></i><span>Обзор</span></div>
  <div class="nav-item" onclick="switchView('chat', this)"><i class="fa-solid fa-message"></i><span>Чат</span></div>
  <div class="nav-item" onclick="switchView('safe', this)"><i class="fa-solid fa-shield-halved"></i><span>Защита</span></div>
  </nav>
 </div>
 </div>

 <!-- МОДАЛКИ -->
 <div id="mod-create" class="modal">
 <div class="modal-card">
  <div class="modal-head">Создать канал</div>
  <input type="text" id="c-rid" placeholder="ID (например: neo-matrix)" autocomplete="off">
  <div class="type-selector">
  <label class="tab-opt"><input type="radio" name="rt" value="pub" checked onchange="toggleSeed(false)"><span>Публичный</span></label>
  <label class="tab-opt"><input type="radio" name="rt" value="priv" onchange="toggleSeed(true)"><span>Приватный</span></label>
  </div>
  <input type="password" id="c-seed" placeholder="Пароль (Сид-фраза)" style="display:none">
  <div class="modal-btns">
  <button class="btn-cancel" onclick="closeModal('mod-create')">Отмена</button>
  <button class="btn-blue" onclick="createRoom()">Создать</button>
  </div>
 </div>
 </div>

 <div id="mod-join" class="modal">
 <div class="modal-card">
  <div class="modal-head">Войти в канал</div>
  <input type="text" id="j-rid" placeholder="ID канала" autocomplete="off">
  <input type="password" id="j-seed" placeholder="Пароль (если приват)">
  <div class="modal-btns">
  <button class="btn-cancel" onclick="closeModal('mod-join')">Назад</button>
  <button class="btn-blue" onclick="joinRoom()">Войти</button>
  </div>
 </div>
 </div>

 <script src="script.js"></script>
</body>
</html>



